<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringBoot 之属性加载详解 | SPRING BOOT TUTORIAL</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/spring-boot-tutorial/img/favicon.ico">
    <meta name="description" content="💧 spring-boot-tutorial 是个人的技术文档归档仓库。">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/spring-boot-tutorial/assets/css/0.styles.4c12b66d.css" as="style"><link rel="preload" href="/spring-boot-tutorial/assets/js/app.2ba59d40.js" as="script"><link rel="preload" href="/spring-boot-tutorial/assets/js/2.f027dd80.js" as="script"><link rel="preload" href="/spring-boot-tutorial/assets/js/8.b8663f4e.js" as="script"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/10.7dc0593e.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/11.d47b0db7.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/12.ba12c004.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/13.dccaac5b.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/14.2fb9b911.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/15.4f858d24.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/16.0e818ff9.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/17.5bd89e55.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/18.8085531d.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/19.905cbbee.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/20.c72531b9.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/21.ba370b8a.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/22.61634abe.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/23.0207ef91.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/24.1ba4b6c5.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/25.4090bd1a.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/26.5456dc15.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/3.4e03ee8b.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/4.11d6c484.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/5.e2fd528c.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/6.18f5e34b.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/7.dd92153b.js"><link rel="prefetch" href="/spring-boot-tutorial/assets/js/9.bc7c41ab.js">
    <link rel="stylesheet" href="/spring-boot-tutorial/assets/css/0.styles.4c12b66d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/spring-boot-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/master/common/dunwu-logo.png" alt="SPRING BOOT TUTORIAL" class="logo"> <span class="site-name can-hide">SPRING BOOT TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/dunwu/spring-boot-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"> <a href="https://github.com/dunwu/spring-boot-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>框架</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>SpringBoot</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SpringBoot综合</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>SpringBoot基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/spring-boot-tutorial/pages/950e4d/" class="sidebar-link">SpringBoot 之快速入门</a></li><li><a href="/spring-boot-tutorial/pages/0fb992/" aria-current="page" class="active sidebar-link">SpringBoot 之属性加载详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#加载-property-顺序" class="sidebar-link">加载 property 顺序</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#随机属性" class="sidebar-link">随机属性</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#命令行属性" class="sidebar-link">命令行属性</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#application-属性文件" class="sidebar-link">Application 属性文件</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#profile-特定属性" class="sidebar-link">Profile 特定属性</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#属性中的占位符" class="sidebar-link">属性中的占位符</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#yaml-属性" class="sidebar-link">YAML 属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-boot-tutorial/pages/0fb992/#访问属性" class="sidebar-link">访问属性</a></li><li class="sidebar-sub-header level3"><a href="/spring-boot-tutorial/pages/0fb992/#多-profile-配置" class="sidebar-link">多 profile 配置</a></li><li class="sidebar-sub-header level3"><a href="/spring-boot-tutorial/pages/0fb992/#yaml-的缺点" class="sidebar-link">YAML 的缺点</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#属性前缀" class="sidebar-link">属性前缀</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#属性松散绑定规则" class="sidebar-link">属性松散绑定规则</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#属性转换" class="sidebar-link">属性转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/spring-boot-tutorial/pages/0fb992/#时间单位转换" class="sidebar-link">时间单位转换</a></li><li class="sidebar-sub-header level3"><a href="/spring-boot-tutorial/pages/0fb992/#数据大小转换" class="sidebar-link">数据大小转换</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#校验属性" class="sidebar-link">校验属性</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#示例源码" class="sidebar-link">示例源码</a></li><li class="sidebar-sub-header level2"><a href="/spring-boot-tutorial/pages/0fb992/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/spring-boot-tutorial/pages/cb598e/" class="sidebar-link">SpringBoot 之 Profile</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SpringBootWeb</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SpringBoot数据</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SpringBootIO</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SpringBoot安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>SpringBoot其他</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/spring-boot-tutorial/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/spring-boot-tutorial/categories/?category=Java" title="分类" data-v-06225672>Java</a></li><li data-v-06225672><a href="/spring-boot-tutorial/categories/?category=%E6%A1%86%E6%9E%B6" title="分类" data-v-06225672>框架</a></li><li data-v-06225672><a href="/spring-boot-tutorial/categories/?category=SpringBoot" title="分类" data-v-06225672>SpringBoot</a></li><li data-v-06225672><a href="/spring-boot-tutorial/categories/?category=SpringBoot%E5%9F%BA%E7%A1%80" title="分类" data-v-06225672>SpringBoot基础</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/dunwu" target="_blank" title="作者" class="beLink" data-v-06225672>dunwu</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2019-01-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">SpringBoot 之属性加载详解<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="springboot-之属性加载详解"><a href="#springboot-之属性加载详解" class="header-anchor">#</a> SpringBoot 之属性加载详解</h1> <h2 id="加载-property-顺序"><a href="#加载-property-顺序" class="header-anchor">#</a> 加载 property 顺序</h2> <p>Spring Boot 加载 property 顺序如下：</p> <ol><li><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-globalsettings" target="_blank" rel="noopener noreferrer">Devtools 全局配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (当 devtools 被激活 <code>~/.spring-boot-devtools.properties</code>).</li> <li><a href="https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/TestPropertySource.html" target="_blank" rel="noopener noreferrer">测试环境中的 <code>@TestPropertySource</code> 注解配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>测试环境中的属性 <code>properties</code>：<a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html" target="_blank" rel="noopener noreferrer"><code>@SpringBootTest</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests" target="_blank" rel="noopener noreferrer">测试注解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>命令行参数</li> <li><code>SPRING_APPLICATION_JSON</code> 属性</li> <li><code>ServletConfig</code> 初始化参数</li> <li><code>ServletContext</code> 初始化参数</li> <li>JNDI attributes from 通过 <code>java:comp/env</code> 配置的 JNDI 属性</li> <li>Java 系统属性 (<code>System.getProperties()</code>)</li> <li>操作系统环境比那里</li> <li><code>RandomValuePropertySource</code> 加载 <code>random.*</code> 形式的属性</li> <li>jar 包外的 <code>application-{profile}.properties</code> 或 <code>application-{profile}.yml</code> 配置</li> <li>jar 包内的 <code>application-{profile}.properties</code> 或 <code>application-{profile}.yml</code> 配置</li> <li>jar 包外的 <code>application.properties</code> 或 <code>application.yml</code> 配置</li> <li>jar 包内的 <code>application.properties</code> 或 <code>application.yml</code> 配置</li> <li><code>@PropertySource</code> 绑定的配置</li> <li>默认属性 (通过 <code>SpringApplication.setDefaultProperties</code> 指定)</li></ol> <h2 id="随机属性"><a href="#随机属性" class="header-anchor">#</a> 随机属性</h2> <p><code>RandomValuePropertySource</code> 类用于配置随机值。</p> <p>示例：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">my.secret</span><span class="token punctuation">=</span><span class="token value attr-value">${random.value}</span>
<span class="token key attr-name">my.number</span><span class="token punctuation">=</span><span class="token value attr-value">${random.int}</span>
<span class="token key attr-name">my.bignumber</span><span class="token punctuation">=</span><span class="token value attr-value">${random.long}</span>
<span class="token key attr-name">my.uuid</span><span class="token punctuation">=</span><span class="token value attr-value">${random.uuid}</span>
<span class="token key attr-name">my.number.less.than.ten</span><span class="token punctuation">=</span><span class="token value attr-value">${random.int(10)}</span>
<span class="token key attr-name">my.number.in.range</span><span class="token punctuation">=</span><span class="token value attr-value">${random.int[1024,65536]}</span>
</code></pre></div><h2 id="命令行属性"><a href="#命令行属性" class="header-anchor">#</a> 命令行属性</h2> <p>默认情况下， <code>SpringApplication</code> 会获取 <code>--</code> 参数（例如 <code>--server.port=9000</code> ），并将这个 <code>property</code> 添加到 Spring 的 <code>Environment</code> 中。</p> <p>如果不想加载命令行属性，可以通过 <code>SpringApplication.setAddCommandLineProperties(false)</code> 禁用。</p> <h2 id="application-属性文件"><a href="#application-属性文件" class="header-anchor">#</a> Application 属性文件</h2> <p><code>SpringApplication</code> 会自动加载以下路径下的 <code>application.properties</code> 配置文件，将其中的属性读到 Spring 的 <code>Environment</code> 中。</p> <ol><li>当前目录的 <code>/config</code> 子目录</li> <li>当前目录</li> <li>classpath 路径下的 <code>/config</code> package</li> <li>classpath 根路径</li></ol> <blockquote><p>注：</p> <p>以上列表的配置文件会根据顺序，后序的配置会覆盖前序的配置。</p> <p>你可以选择 <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-yaml" target="_blank" rel="noopener noreferrer">YAML(yml)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 配置文件替换 properties 配置文件。</p></blockquote> <p>如果不喜欢 <code>application.properties</code> 作为配置文件名，可以使用 <code>spring.config.name</code> 环境变量替换：</p> <div class="language- extra-class"><pre class="language-text"><code>$ java -jar myproject.jar --spring.config.name=myproject
</code></pre></div><p>可以使用 <code>spring.config.location</code> 环境变量指定配置文件路径：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">$</span> <span class="token value attr-value">java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties</span>
</code></pre></div><h2 id="profile-特定属性"><a href="#profile-特定属性" class="header-anchor">#</a> Profile 特定属性</h2> <p>如果定义 <code>application-{profile}.properties</code> 形式的配置文件，将被视为 <code>profile</code> 环境下的特定配置。</p> <p>可以通过 <code>spring.profiles.active</code> 参数来激活 profile，如果没有激活的 profile,默认会加载 <code>application-default.properties</code> 中的配置。</p> <h2 id="属性中的占位符"><a href="#属性中的占位符" class="header-anchor">#</a> 属性中的占位符</h2> <p><code>application.properties</code> 中的值会被 <code>Environment</code> 过滤，所以，可以引用之前定义的属性。</p> <div class="language- extra-class"><pre class="language-text"><code>app.name=MyApp
app.description=${app.name} is a Spring Boot application
</code></pre></div><blockquote><p>注：你可以使用此技术来创建 Spring Boot 属性变量。请参考： <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-use-short-command-line-arguments" target="_blank" rel="noopener noreferrer">Section 77.4, “Use ‘Short’ Command Line Arguments<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="yaml-属性"><a href="#yaml-属性" class="header-anchor">#</a> YAML 属性</h2> <p>Spring 框架有两个类支持加载 YAML 文件。</p> <ul><li><code>YamlPropertiesFactoryBean</code> 将 YAML 文件的配置加载为 <code>Properties</code> 。</li> <li><code>YamlMapFactoryBean</code> 将 YAML 文件的配置加载为 <code>Map</code> 。</li></ul> <p>示例 1</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">environments</span><span class="token punctuation">:</span>
	<span class="token key atrule">dev</span><span class="token punctuation">:</span>
		<span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//dev.example.com
		<span class="token key atrule">name</span><span class="token punctuation">:</span> Developer Setup
	<span class="token key atrule">prod</span><span class="token punctuation">:</span>
		<span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//another.example.com
		<span class="token key atrule">name</span><span class="token punctuation">:</span> My Cool App
</code></pre></div><p>等价于：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">environments.dev.url</span><span class="token punctuation">=</span><span class="token value attr-value">http://dev.example.com</span>
<span class="token key attr-name">environments.dev.name</span><span class="token punctuation">=</span><span class="token value attr-value">Developer Setup</span>
<span class="token key attr-name">environments.prod.url</span><span class="token punctuation">=</span><span class="token value attr-value">http://another.example.com</span>
<span class="token key attr-name">environments.prod.name</span><span class="token punctuation">=</span><span class="token value attr-value">My Cool App</span>
</code></pre></div><p>YAML 支持列表形式，等价于 property 中的 <code>[index]</code> ：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">my</span><span class="token punctuation">:</span>
<span class="token key atrule">servers</span><span class="token punctuation">:</span>
	<span class="token punctuation">-</span> dev.example.com
	<span class="token punctuation">-</span> another.example.com
</code></pre></div><p>等价于</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">my.servers[0]</span><span class="token punctuation">=</span><span class="token value attr-value">dev.example.com</span>
<span class="token key attr-name">my.servers[1]</span><span class="token punctuation">=</span><span class="token value attr-value">another.example.com</span>
</code></pre></div><h3 id="访问属性"><a href="#访问属性" class="header-anchor">#</a> 访问属性</h3> <p><code>YamlPropertySourceLoader</code> 类会将 YAML 配置转化为 Spring <code>Environment</code> 类中的 <code>PropertySource</code> 。然后，你可以如同 properties 文件中的属性一样，使用 <code>@Value</code> 注解来访问 YAML 中配置的属性。</p> <h3 id="多-profile-配置"><a href="#多-profile-配置" class="header-anchor">#</a> 多 profile 配置</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">address</span><span class="token punctuation">:</span> 192.168.1.100
<span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> development
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">address</span><span class="token punctuation">:</span> 127.0.0.1
<span class="token punctuation">---</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> production &amp; eu<span class="token punctuation">-</span>central
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">address</span><span class="token punctuation">:</span> 192.168.1.120
</code></pre></div><h3 id="yaml-的缺点"><a href="#yaml-的缺点" class="header-anchor">#</a> YAML 的缺点</h3> <p>注：YAML 注解中的属性不能通过 <code>@PropertySource</code> 注解来访问。所以，如果你的项目中使用了一些自定义属性文件，建议不要用 YAML。</p> <h2 id="属性前缀"><a href="#属性前缀" class="header-anchor">#</a> 属性前缀</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">InetAddress</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix<span class="token operator">=</span><span class="token string">&quot;acme&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AcmeProperties</span> <span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token keyword">boolean</span> enabled<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">InetAddress</span> remoteAddress<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Security</span> security <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Security</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> enabled<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">InetAddress</span> <span class="token function">getRemoteAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRemoteAddress</span><span class="token punctuation">(</span><span class="token class-name">InetAddress</span> remoteAddress<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">Security</span> <span class="token function">getSecurity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Security</span> <span class="token punctuation">{</span>

		<span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

		<span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

		<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> roles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singleton</span><span class="token punctuation">(</span><span class="token string">&quot;USER&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

		<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

		<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getRoles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRoles</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> roles<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>相当于支持配置以下属性：</p> <ul><li><code>acme.enabled</code></li> <li><code>acme.remote-address</code></li> <li><code>acme.security.username</code></li> <li><code>acme.security.password</code></li> <li><code>acme.security.roles</code></li></ul> <p>然后，你需要使用 <code>@EnableConfigurationProperties</code> 注解将属性类注入配置类中。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">AcmeProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfiguration</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="属性松散绑定规则"><a href="#属性松散绑定规则" class="header-anchor">#</a> 属性松散绑定规则</h2> <p>Spring Boot 属性名绑定比较松散。</p> <p>以下属性 key 都是等价的：</p> <table><thead><tr><th>Property</th> <th>Note</th></tr></thead> <tbody><tr><td><code>acme.my-project.person.first-name</code></td> <td><code>-</code> 分隔</td></tr> <tr><td><code>acme.myProject.person.firstName</code></td> <td>驼峰命名</td></tr> <tr><td><code>acme.my_project.person.first_name</code></td> <td><code>_</code> 分隔</td></tr> <tr><td><code>ACME_MYPROJECT_PERSON_FIRSTNAME</code></td> <td>大写字母</td></tr></tbody></table> <h2 id="属性转换"><a href="#属性转换" class="header-anchor">#</a> 属性转换</h2> <p>如果需要类型转换，你可以提供一个 <code>ConversionService</code> bean (一个名叫 <code>conversionService</code> 的 bean) 或自定义属性配置 (一个 <code>CustomEditorConfigurer</code> bean) 或自定义的 <code>Converters</code> (被 <code>@ConfigurationPropertiesBinding</code> 注解修饰的 bena)。</p> <h3 id="时间单位转换"><a href="#时间单位转换" class="header-anchor">#</a> 时间单位转换</h3> <p>Spring 使用 <code>java.time.Duration</code> 类代表时间大小，以下场景适用：</p> <ul><li>除非指定 <code>@DurationUnit</code> ，否则一个 long 代表的时间为毫秒。</li> <li>ISO-8601 标准格式（ <a href="https://docs.oracle.com/javase/8/docs/api//java/time/Duration.html#parse-java.lang.CharSequence-" target="_blank" rel="noopener noreferrer"><code>java.time.Duration</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的实现就是参照此标准）</li> <li>你也可以使用以下支持的单位：
<ul><li><code>ns</code> - 纳秒</li> <li><code>us</code> - 微秒</li> <li><code>ms</code> - 毫秒</li> <li><code>s</code> - 秒</li> <li><code>m</code> - 分</li> <li><code>h</code> - 时</li> <li><code>d</code> - 天</li></ul></li></ul> <p>示例：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span><span class="token string">&quot;app.system&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppSystemProperties</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@DurationUnit</span><span class="token punctuation">(</span><span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Duration</span> sessionTimeout <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">ofSeconds</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">Duration</span> readTimeout <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">ofMillis</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">Duration</span> <span class="token function">getSessionTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sessionTimeout<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSessionTimeout</span><span class="token punctuation">(</span><span class="token class-name">Duration</span> sessionTimeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>sessionTimeout <span class="token operator">=</span> sessionTimeout<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">Duration</span> <span class="token function">getReadTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>readTimeout<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setReadTimeout</span><span class="token punctuation">(</span><span class="token class-name">Duration</span> readTimeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>readTimeout <span class="token operator">=</span> readTimeout<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="数据大小转换"><a href="#数据大小转换" class="header-anchor">#</a> 数据大小转换</h3> <p>Spring 使用 <code>DataSize</code> 类代表数据大小，以下场景适用：</p> <ul><li>long 值（默认视为 byte）</li> <li>你也可以使用以下支持的单位：
<ul><li><code>B</code></li> <li><code>KB</code></li> <li><code>MB</code></li> <li><code>GB</code></li> <li><code>TB</code></li></ul></li></ul> <p>示例：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span><span class="token string">&quot;app.io&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppIoProperties</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@DataSizeUnit</span><span class="token punctuation">(</span><span class="token class-name">DataUnit</span><span class="token punctuation">.</span><span class="token constant">MEGABYTES</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">DataSize</span> bufferSize <span class="token operator">=</span> <span class="token class-name">DataSize</span><span class="token punctuation">.</span><span class="token function">ofMegabytes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">DataSize</span> sizeThreshold <span class="token operator">=</span> <span class="token class-name">DataSize</span><span class="token punctuation">.</span><span class="token function">ofBytes</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">DataSize</span> <span class="token function">getBufferSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bufferSize<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBufferSize</span><span class="token punctuation">(</span><span class="token class-name">DataSize</span> bufferSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>bufferSize <span class="token operator">=</span> bufferSize<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">DataSize</span> <span class="token function">getSizeThreshold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sizeThreshold<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSizeThreshold</span><span class="token punctuation">(</span><span class="token class-name">DataSize</span> sizeThreshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>sizeThreshold <span class="token operator">=</span> sizeThreshold<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="校验属性"><a href="#校验属性" class="header-anchor">#</a> 校验属性</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix<span class="token operator">=</span><span class="token string">&quot;acme&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AcmeProperties</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@NotNull</span>
	<span class="token keyword">private</span> <span class="token class-name">InetAddress</span> remoteAddress<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Valid</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Security</span> security <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Security</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// ... getters and setters</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Security</span> <span class="token punctuation">{</span>

		<span class="token annotation punctuation">@NotEmpty</span>
		<span class="token keyword">public</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

		<span class="token comment">// ... getters and setters</span>

	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>你也可以自定义一个名为 <code>configurationPropertiesValidator</code> 的校验器 Bean。获取这个 <code>@Bean</code> 的方法必须声明为 <code>static</code>。</p> <h2 id="示例源码"><a href="#示例源码" class="header-anchor">#</a> 示例源码</h2> <blockquote><p>示例源码：<a href="https://github.com/dunwu/spring-boot-tutorial/tree/master/codes/spring-boot-property" target="_blank" rel="noopener noreferrer">spring-boot-property<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config" target="_blank" rel="noopener noreferrer">Spring Boot 官方文档之 boot-features-external-config<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="page-slot page-slot-bottom">
  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>
  <style>
    .pageB img{width:80px!important;}
    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}
  </style>
  </div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/spring-boot-tutorial/edit/master/docs/10.Java/13.框架/02.SpringBoot/01.SpringBoot基础/02.SpringBoot之属性加载.md" target="_blank" rel="noopener noreferrer">📝 帮助改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/spring-boot-tutorial/tags/?tag=Java" title="标签">#Java</a><a href="/spring-boot-tutorial/tags/?tag=%E6%A1%86%E6%9E%B6" title="标签">#框架</a><a href="/spring-boot-tutorial/tags/?tag=Spring" title="标签">#Spring</a><a href="/spring-boot-tutorial/tags/?tag=SpringBoot" title="标签">#SpringBoot</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/01/27, 23:16:10</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/spring-boot-tutorial/pages/950e4d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">SpringBoot 之快速入门</div></a> <a href="/spring-boot-tutorial/pages/cb598e/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">SpringBoot 之 Profile</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/spring-boot-tutorial/pages/950e4d/" class="prev">SpringBoot 之快速入门</a></span> <span class="next"><a href="/spring-boot-tutorial/pages/cb598e/">SpringBoot 之 Profile</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/spring-boot-tutorial/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/spring-boot-tutorial/pages/950e4d/"><div>
            SpringBoot 之快速入门
            <!----></div></a> <span class="date">12-10</span></dt></dl><dl><dd>02</dd> <dt><a href="/spring-boot-tutorial/pages/568352/"><div>
            SpringBoot 之安全快速入门
            <!----></div></a> <span class="date">05-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/spring-boot-tutorial/pages/430f53/"><div>
            SpringBoot 知识图谱
            <!----></div></a> <span class="date">08-12</span></dt></dl> <dl><dd></dd> <dt><a href="/spring-boot-tutorial/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:forbreak@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/dunwu" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>钝悟（dunwu） | CC-BY-SA-4.0</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div>
    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;
    min-width: auto;min-height:auto;"></div>
    <style>
      .windowRB{ padding: 0;}
      .windowRB .wwads-img{margin-top: 10px;}
      .windowRB .wwads-content{margin: 0 10px 10px 10px;}
      .custom-html-window-rb .close-but{
        display: none;
      }
    </style>
  </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/spring-boot-tutorial/assets/js/app.2ba59d40.js" defer></script><script src="/spring-boot-tutorial/assets/js/2.f027dd80.js" defer></script><script src="/spring-boot-tutorial/assets/js/8.b8663f4e.js" defer></script>
  </body>
</html>
